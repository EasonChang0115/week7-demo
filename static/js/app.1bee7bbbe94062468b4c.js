webpackJsonp([1],{"+qiL":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=i("VU/8")({name:"App"},a,!1,function(t){i("NsCX")},null,null).exports,h=i("/ocq"),r=i("Zrlr"),l=i.n(r),o=i("wxAW"),c=i.n(o),u=function(t){return void 0===t?Math.PI:t*Math.PI},d=function(){function t(e,i){l()(this,t),this.x=e,this.y=i}return c()(t,[{key:"set",value:function(t,e){this.x=t,this.y=e}},{key:"move",value:function(t,e){this.x+=t,this.y+=e}},{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mul",value:function(e){return new t(this.x*e,this.y*e)}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"equal",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set:function(t){var e=this.unit.nul(t);this.set(e.x,e.y)}},{key:"angle",get:function(){return Math.atan2(this.y,this.x)}},{key:"unit",get:function(){return this.mul(1/this.length)}}],[{key:"DIR",value:function(e){return e?t[(""+e).toUpperCase()]:t.ZERO}},{key:"DIR_ANGLE",value:function(t){switch(t){case"right":return 0;case"left":return u();case"up":return u(-.5);case"down":return u(.5)}return 0}},{key:"ZERO",get:function(){return new t(0,0)}},{key:"UP",get:function(){return new t(0,-1)}},{key:"DOWN",get:function(){return new t(0,1)}},{key:"LEFT",get:function(){return new t(-1,0)}},{key:"RIGHT",get:function(){return new t(1,0)}}]),t}(),v={width:1e3,height:1e3,maxR:350,color:{red:"#E7465D",yellow:"#F5AF5F",blue:"#3676BB",bgBlue:"#001D2E"},Props:["defend","heart"],Levels:[{enemys:["meteorite","meteorite"]},{enemys:["meteorite","meteorite","circle"]},{enemys:["meteorite","triangle","circle"]},{enemys:["circle","triangle","meteorite","circle"]},{enemys:["circle","triangle","meteorite","circle","triangle","meteorite"]}]},p=i("woOf"),y=i.n(p),f=i("Zx67"),m=i.n(f),g=i("zwoO"),M=i.n(g),w=i("Pf15"),P=i.n(w),b=function(){function t(e){l()(this,t);var i={ctx:null,p:d.ZERO,v:d.ZERO,a:d.ZERO,speed:4,direction:d.ZERO,isDead:!1};y()(i,e),y()(this,i)}return c()(t,[{key:"checkBoundary",value:function(){this.p.x-this.r<-v.width/2&&(this.p.x=-v.width/2+this.r),this.p.x+this.r>v.width/2&&(this.p.x=v.width/2-this.r),this.p.y-this.r<-v.height/2&&(this.p.y=-v.height/2+this.r),this.p.y+this.r>v.height/2&&(this.p.y=v.height/2-this.r)}},{key:"collide",value:function(t){return this.p.sub(t.p).length<this.r+t.r}}]),t}(),x=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={color:"white",r:37.5,defendR:90,defendDeg:135,defendArc:90,dotR:70,bulletSpeed:1,bonus:[]};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;t.save(),t.translate(this.p.x,this.p.y),t.beginPath(),t.arc(0,0,this.r,0,2*Math.PI),t.lineWidth=8,t.strokeStyle=this.color,t.shadowColor="white",t.shadowBlur=20,t.stroke(),t.beginPath();for(var e=1;e<=360;e+=2){var i=e,s=e-3,a=this.dotR*Math.cos(i*Math.PI/180),n=this.dotR*Math.sin(i*Math.PI/180),h=this.dotR*Math.cos(s*Math.PI/180),r=this.dotR*Math.sin(s*Math.PI/180);e%5==0&&(t.beginPath(),t.moveTo(a,n),t.lineTo(h,r),t.closePath(),t.strokeStyle=this.color,t.lineWidth=2,t.shadowBlur=0,t.stroke())}t.beginPath(),t.arc(0,0,v.maxR,0,2*Math.PI),t.lineWidth=1,t.strokeStyle="rgba(255, 255, 255, 0.2)",t.stroke(),t.save(),t.rotate(-Math.PI/2),t.beginPath(),t.moveTo(0,0),t.lineTo(this.r*Math.cos(0),this.r*Math.sin(0)),t.moveTo(0,0),t.lineTo(this.r*Math.cos(2*Math.PI/3),this.r*Math.sin(2*Math.PI/3)),t.moveTo(0,0),t.lineTo(this.r*Math.cos(4*Math.PI/3),this.r*Math.sin(4*Math.PI/3)),t.lineWidth=4,t.strokeStyle=this.color,t.shadowColor="white",t.shadowBlur=20,t.stroke(),t.restore(),t.save(),t.rotate(this.direction),t.beginPath(),t.arc(0,0,this.defendR,this.defendDeg*Math.PI/180,(this.defendDeg+this.defendArc)*Math.PI/180),t.lineWidth=6,t.strokeStyle=this.color,t.stroke(),t.restore(),t.save(),t.translate(this.dotR*Math.cos(this.direction),this.dotR*Math.sin(this.direction)),t.rotate(this.direction+Math.PI/2),t.beginPath(),t.moveTo(-12,0),t.lineTo(-6,-18),t.lineTo(6,-18),t.lineTo(12,0),t.lineTo(12,18),t.lineTo(-12,18),t.closePath(),t.fillStyle=this.color,t.fill(),t.restore(),t.restore()}},{key:"update",value:function(){this.direction=this.v.unit.angle,this.checkBoundary()}}]),e}(b),_=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={type:"circle",r:30,speed:2,bulletFreq:40};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;if(t.save(),"circle"===this.type){t.translate(this.p.x+this.r*Math.cos(this.direction),this.p.y+this.r*Math.sin(this.direction));var e=this.r+8;t.save(),t.beginPath(),t.translate(0+8*Math.cos(this.direction),0+8*Math.sin(this.direction)),t.arc(0,0,e,0,2*Math.PI),t.globalAlpha=.2,t.fillStyle=v.color.yellow,t.fill(),t.restore();var i=this.r-15;t.save(),t.translate(0-32.5*Math.cos(this.direction),0-32.5*Math.sin(this.direction)),t.beginPath(),t.arc(0,0,i,0,2*Math.PI),t.globalAlpha=.2,t.fillStyle=v.color.yellow,t.fill(),t.restore(),t.beginPath(),t.arc(0,0,this.r,0,2*Math.PI),t.globalAlpha=1,t.fillStyle=v.color.yellow,t.fill(),t.beginPath(),t.arc(12,5,3,0,2*Math.PI),t.fillStyle="white",t.fill(),t.beginPath(),t.arc(-5,-15,3,0,2*Math.PI),t.fillStyle="white",t.fill(),t.beginPath(),t.arc(-8,19,3,0,2*Math.PI),t.fillStyle="white",t.fill(),t.beginPath(),t.moveTo(8,1),t.lineTo(2,-3),t.lineTo(-1,-11),t.lineTo(0,0),t.lineTo(-4,15),t.lineTo(1,5),t.closePath(),t.fillStyle="white",t.fill()}t.restore()}},{key:"update",value:function(t){this.p.move(this.v.x,this.v.y),this.checkBoundary()}}]),e}(b),I=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={type:"triangle",r:35,direction:new d(0,0),bulletFreq:80,speed:4};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;if(t.save(),"triangle"===this.type){t.translate(this.p.x,this.p.y);var e=this.r+8;t.save(),t.beginPath(),t.translate(0+8*Math.cos(this.direction),0+8*Math.sin(this.direction)),t.moveTo(e*Math.cos(0),e*Math.sin(0)),t.lineTo(e*Math.cos(2*Math.PI/3),e*Math.sin(2*Math.PI/3)),t.lineTo(e*Math.cos(4*Math.PI/3),e*Math.sin(4*Math.PI/3)),t.globalAlpha=.2,t.fillStyle=v.color.blue,t.fill(),t.restore(),t.beginPath(),t.moveTo(this.r*Math.cos(0),this.r*Math.sin(0)),t.lineTo(this.r*Math.cos(2*Math.PI/3),this.r*Math.sin(2*Math.PI/3)),t.lineTo(this.r*Math.cos(4*Math.PI/3),this.r*Math.sin(4*Math.PI/3)),t.fillStyle=v.color.blue,t.fill(),t.beginPath(),t.moveTo(5,0),t.lineTo(-1,-1),t.lineTo(2,4),t.closePath(),t.fillStyle="white",t.fill(),t.beginPath(),t.moveTo(-3,0),t.lineTo(-6,-3),t.lineTo(2,-6),t.closePath(),t.fillStyle="white",t.fill()}t.restore()}},{key:"update",value:function(t){this.p.move(this.v.x,this.v.y),this.checkBoundary()}}]),e}(b),k=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={type:"meteorite",r:35,direction:new d(0,0),speed:1.5};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;t.save(),"meteorite"===this.type&&(t.translate(this.p.x,this.p.y),t.beginPath(),t.moveTo(this.r*Math.cos(0),this.r*Math.sin(0)),t.lineTo(this.r*Math.cos(2*Math.PI/6),this.r*Math.sin(2*Math.PI/6)),t.lineTo((this.r-5)*Math.cos(4*Math.PI/6),(this.r-5)*Math.sin(4*Math.PI/6)),t.lineTo(this.r*Math.cos(6*Math.PI/6),this.r*Math.sin(6*Math.PI/6)),t.lineTo(this.r*Math.cos(8*Math.PI/6),this.r*Math.sin(8*Math.PI/6)),t.lineTo((this.r+19)*Math.cos(10*Math.PI/6),(this.r+19)*Math.sin(10*Math.PI/6)),t.closePath(),t.fillStyle=v.color.red,t.fill(),t.save(),t.beginPath(),t.translate(0-20*Math.cos(this.direction),0-20*Math.sin(this.direction)),t.arc(0,0,this.r,0,2*Math.PI),t.globalAlpha=.2,t.fillStyle=v.color.red,t.fill(),t.restore(),t.beginPath(),t.moveTo(0,20),t.lineTo(-10,-3),t.lineTo(3,-3),t.lineTo(0,-20),t.lineTo(10,3),t.lineTo(-3,3),t.lineTo(0,20),t.fillStyle="white",t.globalAlpha=1,t.fill()),t.restore()}},{key:"update",value:function(t){this.p.move(this.v.x,this.v.y),this.checkBoundary()}},{key:"checkBoundary",value:function(){this.p.x-this.r<-v.width/2&&(this.p.x=-v.width/2+this.r),this.p.x+this.r>v.width/2&&(this.p.x=v.width/2-this.r),this.p.y-this.r<-v.height/2&&(this.p.y=-v.height/2+this.r),this.p.y+this.r>v.height/2&&(this.p.y=v.height/2-this.r)}}]),e}(b),T=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={type:"littlemeteorite",r:20,direction:new d(0,0),speed:1.5};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;t.save(),"littlemeteorite"===this.type&&(t.translate(this.p.x,this.p.y),t.beginPath(),t.moveTo(this.r*Math.cos(0),this.r*Math.sin(0)),t.lineTo(this.r*Math.cos(2*Math.PI/6),this.r*Math.sin(2*Math.PI/6)),t.lineTo((this.r-5)*Math.cos(4*Math.PI/6),(this.r-5)*Math.sin(4*Math.PI/6)),t.lineTo(this.r*Math.cos(6*Math.PI/6),this.r*Math.sin(6*Math.PI/6)),t.lineTo(this.r*Math.cos(8*Math.PI/6),this.r*Math.sin(8*Math.PI/6)),t.lineTo((this.r+19)*Math.cos(10*Math.PI/6),(this.r+19)*Math.sin(10*Math.PI/6)),t.closePath(),t.fillStyle=v.color.red,t.fill(),t.save(),t.beginPath(),t.translate(0-20*Math.cos(this.direction),0-20*Math.sin(this.direction)),t.arc(0,0,this.r,0,2*Math.PI),t.globalAlpha=.2,t.fillStyle=v.color.red,t.fill(),t.restore(),t.beginPath(),t.moveTo(0,20),t.lineTo(-10,-3),t.lineTo(3,-3),t.lineTo(0,-20),t.lineTo(10,3),t.lineTo(-3,3),t.lineTo(0,20),t.fillStyle="white",t.globalAlpha=1,t.fill()),t.restore()}},{key:"update",value:function(t){this.p.move(this.v.x,this.v.y),this.checkBoundary()}},{key:"checkBoundary",value:function(){this.p.x-this.r<-v.width/2&&(this.p.x=-v.width/2+this.r),this.p.x+this.r>v.width/2&&(this.p.x=v.width/2-this.r),this.p.y-this.r<-v.height/2&&(this.p.y=-v.height/2+this.r),this.p.y+this.r>v.height/2&&(this.p.y=v.height/2-this.r)}}]),e}(b),C=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={color:"white",r:5,isDead:!1};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;this.isDead||(t.save(),"player"===this.type&&(t.translate(this.p.x,this.p.y),t.beginPath(),t.arc(0,0,this.r,0,2*Math.PI),t.fillStyle=this.color,t.fill()),"enemy-circle"===this.type&&(t.translate(this.p.x,this.p.y),t.rotate(this.direction),t.beginPath(),t.scale(1,.5),t.arc(0,0,this.r,0,2*Math.PI),t.fillStyle=this.color,t.fill()),"enemy-traingle"===this.type&&(t.translate(this.p.x,this.p.y),t.rotate(this.direction),t.beginPath(),t.moveTo(0,0),t.lineTo(10,0),t.lineTo(0,10),t.closePath(),t.fillStyle=this.color,t.fill()),t.restore())}},{key:"update",value:function(){this.p.move(this.v.x,this.v.y),this.checkBoundary()}},{key:"checkBoundary",value:function(){this.p.x-this.r<-v.width/2&&(this.isDead=!0),this.p.x+this.r>v.width/2&&(this.isDead=!0),this.p.y-this.r<-v.height/2&&(this.isDead=!0),this.p.y+this.r>v.height/2&&(this.isDead=!0)}}]),e}(b),S=function(t){function e(t){l()(this,e);var i=M()(this,(e.__proto__||m()(e)).call(this,t)),s={type:"",r:35};return y()(s,t),y()(i,s),i}return P()(e,t),c()(e,[{key:"draw",value:function(){var t=this.ctx;if(t.save(),t.translate(this.p.x,this.p.y),t.beginPath(),t.arc(0,0,this.r,0,2*Math.PI),t.strokeStyle="white",t.stroke(),t.save(),t.translate(0-this.r,0-this.r),"heart"===this.type){var e=new Image;e.src="./static/image/heart.png",t.drawImage(e,0,0,2*this.r,2*this.r)}if("defend"===this.type){var i=new Image;i.src="./static/image/defend.png",t.drawImage(i,0,0,2*this.r,2*this.r)}t.restore(),t.restore()}},{key:"update",value:function(){this.p.move(this.v.x,this.v.y),this.checkBoundary()}}]),e}(b),D=i("R5/K"),R={name:"Main",data:function(){return{score:0,energy:100,life:3,pause:!1,isGameover:!1,start:!1,canvas:null,ctx:null,ww:0,wh:0,updateFPS:30,time:0,player:null,level:0,enemys:[],bullets:[],enemyBullets:[],props:[],mousePos:new d(0,0),mousePosDown:new d(0,0),mousePosUp:new d(0,0)}},mounted:function(){this.canvas=document.getElementById("mycanvas"),this.ctx=this.canvas.getContext("2d"),this.ctx.circle=function(t,e){this.arc(t.x,t.y,e,0,2*Math.PI)},this.ctx.line=function(t,e){this.moveTo(t.x,t.y),this.lineTo(e.x,e.y)},this.player=new x({ctx:this.ctx}),this.initCanvas(),this.load(),window.addEventListener("resize",this.initCanvas),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousedown",this.mouseDown),window.addEventListener("keydown",this.keydown)},methods:{initCanvas:function(){this.ww=this.canvas.width=window.innerWidth,this.wh=this.canvas.height=window.innerHeight},gameInit:function(){this.score=0,this.energy=100,this.life=3,this.isGameover=!1,this.start=!1,this.pause=!1,this.level=0,this.enemys=[]},render:function(){var t=this.ctx;t.fillStyle=v.color.bgBlue,t.fillRect(0,0,this.ww,this.wh);var e=this.player.p;t.save(),t.translate(this.ww/2,this.wh/2),t.translate(-e.x,-e.y),this.drawLine(),this.bullets.forEach(function(t){t.draw()}),this.enemyBullets.forEach(function(t){t.draw()}),this.player.draw(),this.enemys.forEach(function(t){t.draw()}),this.props.forEach(function(t){t.draw()}),t.restore(),t.fillStyle="red",t.beginPath(),t.circle(this.mousePos,3),t.fill(),t.save(),t.beginPath(),t.translate(this.mousePos.x,this.mousePos.y),t.strokeStyle="red",t.fillText(this.mousePos,10,-10),t.line(new d(-20,0),new d(20,0)),t.line(new d(0,-20),new d(0,20)),t.stroke(),t.restore(),requestAnimationFrame(this.render)},update:function(){var t=this;if(!this.pause&&!this.isGameover&&this.start){this.time++,this.player.update();var e=this.mousePos.sub(new d(this.ww/2,this.wh/2)).mul(.1);e.length>this.player.speed&&(e=e.unit.mul(this.player.speed)),this.player.v=e,this.enemys.forEach(function(e,i){if(e.update(),e.direction=e.p.sub(t.player.p).unit.angle,"meteorite"!==e.type&&"littlemeteorite"!==e.type){var s=e.p.sub(t.player.p).length;if(s!==v.maxR){var a=e.p.sub(t.player.p).unit.mul(v.maxR);D.a.to(e.p,1,{x:a.x,y:a.y})}if(s-v.maxR<2){var n=e.p.sub(t.player.p).unit.angle,h=parseInt(180*n/Math.PI)-e.speed*i/3-e.speed;t.time%(100*(i+1)/2)>60&&(h=parseInt(180*n/Math.PI)+e.speed+e.speed/3*i);var r=v.maxR*Math.cos(h*Math.PI/180),l=v.maxR*Math.sin(h*Math.PI/180);D.a.to(e.p,.15,{x:r,y:l})}}else if("meteorite"===e.type){var o=t.player.p.sub(e.p).unit.mul(e.speed);e.v=o}if("circle"===e.type&&t.time%(e.bulletFreq+i*e.bulletFreq*.5)==0){var c=e.p.clone(),u=t.player.p.sub(e.p).unit.mul(4*e.speed),d={ctx:t.ctx,p:c,v:u,color:v.color.yellow,direction:e.direction,type:"enemy-circle",isDead:!1};t.enemyBullets.push(new C(d))}if("triangle"===e.type&&t.time%(e.bulletFreq+i*e.bulletFreq*.5)==0){var p=e.p.clone(),y=t.player.p.sub(e.p).unit.mul(4*e.speed),f={ctx:t.ctx,p:p,v:y,color:v.color.blue,direction:e.direction,type:"enemy-traingle",isDead:!1};t.enemyBullets.push(new C(f))}e.collide(t.player)&&(e.isDead=!0,t.lifeHurt(50))}),this.bullets.forEach(function(t){t.update()}),this.enemyBullets.forEach(function(t){t.update()}),this.bullets.length>0&&this.bullets.forEach(function(e){t.enemys.forEach(function(i){if(e.collide(i)){if(e.isDead=!0,i.isDead=!0,"meteorite"===i.type){var s=i.v,a=new T({ctx:t.ctx,p:i.p.clone(),v:s.clone()}),n=new T({ctx:t.ctx,p:i.p.clone(),v:s.clone()});t.enemys.push(a),t.enemys.push(n),D.a.to(a.p,1,{x:i.p.x+150*Math.random(),y:i.p.y+260*Math.random()}),D.a.to(n.p,1,{x:i.p.x+150*Math.random(),y:i.p.y+260*Math.random()})}t.score+=1}})}),this.enemyBullets.length>0&&this.enemyBullets.forEach(function(e){var i=180*e.direction/Math.PI>=0?180*e.direction/Math.PI:180*e.direction/Math.PI+360,s=180*t.player.direction/Math.PI+t.player.defendDeg;s=s>0?s:s+360;var a=0;a=Math.abs(i-s)>180?360-Math.abs(i-s):Math.abs(i-s);var n=s+t.player.defendArc;n%=360;var h=0;h=Math.abs(i-n)>180?360-Math.abs(i-n):Math.abs(i-n);var r=e.p.sub(t.player.p).length;if(a+h<=t.player.defendArc&&!e.isDead&&r<t.player.defendR&&(e.isDead=!0),"enemy-traingle"===e.type&&Math.random()<.1){var l=2*Math.PI*Math.random(),o=e.speed,c=new d(Math.cos(l)*o,Math.sin(l)*o);e.v=c}e.collide(t.player)&&(e.isDead=!0,t.lifeHurt(25))}),350*Math.random()<1&&this.addProps(),this.props.forEach(function(t){t.update()}),this.props.forEach(function(e){if(e.collide(t.player)&&(e.isDead=!0,"heart"===e.type&&t.life<3&&(t.life+=1),"defend"===e.type&&!t.player.bonus.some(function(t){return"defend"===t}))){t.player.bonus.push("defend");D.a.to(t.player,1.5,{defendDeg:20,defendArc:320});var i=setTimeout(function(){t.player.bonus=t.player.bonus.filter(function(t){return"defend"!==t}),D.a.to(t.player,1.5,{defendDeg:135,defendArc:90}),clearTimeout(i)},1e4)}}),this.energy<100&&this.time%30==0&&(this.energy+=5),0===this.energy&&this.life>0&&(this.energy=100,this.life-=1),0===this.energy&&0===this.life&&(this.isGameover=!0),0===this.enemys.length&&(this.bullets=[],this.enemyBullets=[],this.level===v.Levels.length-1?this.level=0:this.level+=1,this.generateEnemys(this.level)),this.enemyBullets=this.enemyBullets.filter(function(t){return!t.isDead}),this.bullets=this.bullets.filter(function(t){return!t.isDead}),this.enemys=this.enemys.filter(function(t){return!t.isDead}),this.props=this.props.filter(function(t){return!t.isDead})}},load:function(){this.initCanvas(),requestAnimationFrame(this.render),setInterval(this.update,1e3/this.updateFPS)},drawLine:function(){var t=this.ctx,e=v.width/50;t.beginPath();for(var i=-e/2;i<=e/2;i++)t.moveTo(50*i,-v.height/2),t.lineTo(50*i,v.height/2),t.moveTo(-v.width/2,50*i),t.lineTo(v.width/2,50*i);t.strokeStyle="rgba(255,255,255,0.1)",t.stroke()},generateEnemys:function(t){var e=this;this.enemys=v.Levels[t].enemys.map(function(t){var i=360*Math.random()*Math.PI/180,s=1.5*v.maxR*Math.cos(i),a=1.5*v.maxR*Math.sin(i);return"circle"===t?new _({ctx:e.ctx,p:new d(s,a),type:t}):"triangle"===t?new I({ctx:e.ctx,p:new d(s,a),type:t}):"meteorite"===t?new k({ctx:e.ctx,p:new d(s,a),type:t}):void 0})},mouseMove:function(t){this.mousePos.set(t.x,t.y)},mouseUp:function(t){this.mousePos.set(t.x,t.y),this.mousePosUp=this.mousePos.clone()},mouseDown:function(t){this.mousePos.set(t.x,t.y),this.mousePosDown=this.mousePos.clone()},keydown:function(t){if("w"===t.key){var e=this.player.p.add(new d(this.player.dotR*Math.cos(this.player.v.unit.angle),this.player.dotR*Math.sin(this.player.v.unit.angle))),i=this.player.v,s={ctx:this.ctx,p:e,v:i,color:"white",type:"player",isDead:!1};this.bullets.push(new C(s))}"p"===t.key&&(this.pause=!this.pause)},lifeHurt:function(t){var e=this.energy-t;this.energy=e<0?0:e},GameStart:function(){this.start=!0,this.generateEnemys(this.level)},addProps:function(){var t=360*Math.random()*Math.PI/180,e=1.5*v.maxR*Math.cos(t),i=1.5*v.maxR*Math.sin(t),s=v.Props[parseInt(Math.random()*v.Props.length)],a=this.player.p.sub(new d(e,i)).unit.mul(1.5);this.props.push(new S({ctx:this.ctx,p:new d(e,i),v:a,type:s}))}}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("canvas",{attrs:{id:"mycanvas"}}),t._v(" "),i("div",{staticClass:"start-panel",style:{display:t.start?"none":""}},[t._m(0),t._v(" "),i("div",{staticClass:"block"},[i("div",{staticClass:"center"},[i("div",{staticClass:"logo"},[i("div",{staticClass:"battery-img",style:{backgroundImage:"url(./static/image/battery.svg)"}}),t._v(" "),i("div",{staticClass:"logo-img",style:{backgroundImage:"url(./static/image/logo.svg)"}})]),t._v(" "),i("div",{staticClass:"text"},[t._v("Radio Defense")]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.GameStart}},[t._v("Start Game")])]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"circle-img",style:{backgroundImage:"url(./static/image/circle.svg)"}}),t._v(" "),i("div",{staticClass:"triangle-img",style:{backgroundImage:"url(./static/image/triangle.svg)"}}),t._v(" "),i("div",{staticClass:"meteorite-img",style:{backgroundImage:"url(./static/image/meteorite.svg)"}})])]),t._v(" "),i("div",{staticClass:"panel"},[i("div",{staticClass:"logo"},[i("div",{staticClass:"logo-img",style:{backgroundImage:"url(./static/image/logo.svg)"}}),t._v(" "),i("div",{staticClass:"text"},[t._v("RADIO Defense")])]),t._v(" "),i("div",{staticClass:"life"},[i("div",{staticClass:"energy-bar"},[i("div",{staticClass:"inner",style:{width:t.energy+"%"}})]),t._v(" "),i("div",{staticClass:"hearts"},t._l(t.life,function(t){return i("div",{key:t,staticClass:"heart"},[i("i",{staticClass:"fas fa-heart"})])}))]),t._v(" "),i("div",{staticClass:"level-time"},[i("div",{staticClass:"level"},[t._v(t._s("Wave "+(t.level+1)))])]),t._v(" "),i("div",{staticClass:"score"},[t._m(2),t._v(" "),i("div",{staticClass:"ifor"},[i("span",[t._v("已回收")]),t._v(" "),i("br"),t._v("\n        "+t._s(t.score)+" 個能量電池\n      ")])]),t._v(" "),i("div",{staticClass:"buttons"},[t._m(3),t._v(" "),i("div",{staticClass:"block",class:t.pause?"pause":""},[i("div",{staticClass:"button stop"},[t._v("P")]),t._v(" "),i("div",{staticClass:"des"},[t._v("Pause")])])])]),t._v(" "),i("div",{staticClass:"end-panel fadeIn",style:{display:t.isGameover?"flex":"none"}},[i("div",{staticClass:"out-block"},[i("div",{staticClass:"block"},[i("div",{staticClass:"left"},[i("div",{staticClass:"battery-img",style:{backgroundImage:"url(./static/image/battery.svg)"}})]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"little-text"},[t._v("你回收了")]),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(t.score)+"個能量電池")]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.gameInit}},[t._v("Restart")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"circle-run"},[e("div",{staticClass:"ball-scale-multiple"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"game-text"},[e("p",[this._v("\n          你身負著運送能量電池的任務\n          "),e("br"),this._v("\n          卻遭到幾何星人的埋伏\n          "),e("br"),this._v("\n          請協助從他們的手中奪回能量電池\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"battery"},[e("div",{staticClass:"head"}),this._v(" "),e("div",{staticClass:"body"},[e("i",{staticClass:"fas fa-bolt"})]),this._v(" "),e("div",{staticClass:"bottom"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block"},[e("div",{staticClass:"button shop"},[this._v("S")]),this._v(" "),e("div",{staticClass:"des"},[this._v("Shop")])])}]};var B=i("VU/8")(R,E,!1,function(t){i("gVhb")},null,null).exports;s.a.use(h.a);var A=new h.a({routes:[{path:"/",name:"Main",component:B}]});i("+qiL");s.a.config.productionTip=!1,new s.a({el:"#app",router:A,components:{App:n},template:"<App/>"})},NsCX:function(t,e){},gVhb:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1bee7bbbe94062468b4c.js.map